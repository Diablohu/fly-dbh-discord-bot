{"version":3,"file":"node_modules_file-type_index_js.cjs","mappings":"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AM,EACN,KAAK,EACL,MAAM,EACN,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,KAAK,EACL,KAAK,EACL,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,IAAI,EACJ,KAAK,EACL,IAAI,EACJ,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,MAAM,EACN,OAAO,EACP,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,IAAI,EACJ,IAAI,EACJ,QAAQ,EACR,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,IAAI,EACJ,KAAK,EACL,GAAG,EACH,IAAI,EACJ,KAAK,EACL,KAAK,EACL,KAAK,EACL,OAAO,EACP,KAAK,EACL,MAAM,EACN,MAAM,EACN,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,IAAI,EACJ,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,KAAK,EACL,KAAK,EACL,OAAO,EACP,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,OAAO,EACP,KAAK,EACL,KAAK,EACL,KA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","sources":["webpack://fly-dbh-discord-bot/./node_modules/ieee754/index.js","webpack://fly-dbh-discord-bot/./node_modules/file-type/core.js","webpack://fly-dbh-discord-bot/./node_modules/file-type/index.js","webpack://fly-dbh-discord-bot/./node_modules/file-type/supported.js","webpack://fly-dbh-discord-bot/./node_modules/file-type/util.js","webpack://fly-dbh-discord-bot/./node_modules/peek-readable/lib/Deferred.js","webpack://fly-dbh-discord-bot/./node_modules/peek-readable/lib/EndOfFileStream.js","webpack://fly-dbh-discord-bot/./node_modules/peek-readable/lib/StreamReader.js","webpack://fly-dbh-discord-bot/./node_modules/peek-readable/lib/index.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/AbstractTokenizer.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/BufferTokenizer.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/FileTokenizer.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/FsPromise.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/ReadStreamTokenizer.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/core.js","webpack://fly-dbh-discord-bot/./node_modules/strtok3/lib/index.js","webpack://fly-dbh-discord-bot/./node_modules/token-types/lib/index.js"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","import {Buffer} from 'node:buffer';\nimport * as Token from 'token-types';\nimport * as strtok3 from 'strtok3/core'; // eslint-disable-line n/file-extension-in-import\nimport {\n\tstringToBytes,\n\ttarHeaderChecksumMatches,\n\tuint32SyncSafeToken,\n} from './util.js';\nimport {extensions, mimeTypes} from './supported.js';\n\nconst minimumBytes = 4100; // A fair amount of file-types are detectable within this range.\n\nexport async function fileTypeFromStream(stream) {\n\tconst tokenizer = await strtok3.fromStream(stream);\n\ttry {\n\t\treturn await fileTypeFromTokenizer(tokenizer);\n\t} finally {\n\t\tawait tokenizer.close();\n\t}\n}\n\nexport async function fileTypeFromBuffer(input) {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer)) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buffer = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\tif (!(buffer?.length > 1)) {\n\t\treturn;\n\t}\n\n\treturn fileTypeFromTokenizer(strtok3.fromBuffer(buffer));\n}\n\nfunction _check(buffer, headers, options) {\n\toptions = {\n\t\toffset: 0,\n\t\t...options,\n\t};\n\n\tfor (const [index, header] of headers.entries()) {\n\t\t// If a bitmask is set\n\t\tif (options.mask) {\n\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\tif (header !== (options.mask[index] & buffer[index + options.offset])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (header !== buffer[index + options.offset]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport async function fileTypeFromTokenizer(tokenizer) {\n\ttry {\n\t\treturn new FileTypeParser().parse(tokenizer);\n\t} catch (error) {\n\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nclass FileTypeParser {\n\tcheck(header, options) {\n\t\treturn _check(this.buffer, header, options);\n\t}\n\n\tcheckString(header, options) {\n\t\treturn this.check(stringToBytes(header), options);\n\t}\n\n\tasync parse(tokenizer) {\n\t\tthis.buffer = Buffer.alloc(minimumBytes);\n\n\t\t// Keep reading until EOF if the file size is unknown.\n\t\tif (tokenizer.fileInfo.size === undefined) {\n\t\t\ttokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n\t\t}\n\n\t\tthis.tokenizer = tokenizer;\n\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: 12, mayBeLess: true});\n\n\t\t// -- 2-byte signatures --\n\n\t\tif (this.check([0x42, 0x4D])) {\n\t\t\treturn {\n\t\t\t\text: 'bmp',\n\t\t\t\tmime: 'image/bmp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x0B, 0x77])) {\n\t\t\treturn {\n\t\t\t\text: 'ac3',\n\t\t\t\tmime: 'audio/vnd.dolby.dd-raw',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x78, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'dmg',\n\t\t\t\tmime: 'application/x-apple-diskimage',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4D, 0x5A])) {\n\t\t\treturn {\n\t\t\t\text: 'exe',\n\t\t\t\tmime: 'application/x-msdownload',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x25, 0x21])) {\n\t\t\tawait tokenizer.peekBuffer(this.buffer, {length: 24, mayBeLess: true});\n\n\t\t\tif (\n\t\t\t\tthis.checkString('PS-Adobe-', {offset: 2})\n\t\t\t\t&& this.checkString(' EPSF-', {offset: 14})\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'eps',\n\t\t\t\t\tmime: 'application/eps',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ps',\n\t\t\t\tmime: 'application/postscript',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x1F, 0xA0])\n\t\t\t|| this.check([0x1F, 0x9D])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'Z',\n\t\t\t\tmime: 'application/x-compress',\n\t\t\t};\n\t\t}\n\n\t\t// -- 3-byte signatures --\n\n\t\tif (this.check([0xEF, 0xBB, 0xBF])) { // UTF-8-BOM\n\t\t\t// Strip off UTF-8-BOM\n\t\t\tthis.tokenizer.ignore(3);\n\t\t\treturn this.parse(tokenizer);\n\t\t}\n\n\t\tif (this.check([0x47, 0x49, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'gif',\n\t\t\t\tmime: 'image/gif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0xD8, 0xFF])) {\n\t\t\treturn {\n\t\t\t\text: 'jpg',\n\t\t\t\tmime: 'image/jpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x49, 0x49, 0xBC])) {\n\t\t\treturn {\n\t\t\t\text: 'jxr',\n\t\t\t\tmime: 'image/vnd.ms-photo',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x1F, 0x8B, 0x8])) {\n\t\t\treturn {\n\t\t\t\text: 'gz',\n\t\t\t\tmime: 'application/gzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x5A, 0x68])) {\n\t\t\treturn {\n\t\t\t\text: 'bz2',\n\t\t\t\tmime: 'application/x-bzip2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('ID3')) {\n\t\t\tawait tokenizer.ignore(6); // Skip ID3 header until the header size\n\t\t\tconst id3HeaderLength = await tokenizer.readToken(uint32SyncSafeToken);\n\t\t\tif (tokenizer.position + id3HeaderLength > tokenizer.fileInfo.size) {\n\t\t\t\t// Guess file type based on ID3 header for backward compatibility\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(id3HeaderLength);\n\t\t\treturn fileTypeFromTokenizer(tokenizer); // Skip ID3 header, recursion\n\t\t}\n\n\t\t// Musepack, SV7\n\t\tif (this.checkString('MP+')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\t(this.buffer[0] === 0x43 || this.buffer[0] === 0x46)\n\t\t\t&& this.check([0x57, 0x53], {offset: 1})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'swf',\n\t\t\t\tmime: 'application/x-shockwave-flash',\n\t\t\t};\n\t\t}\n\n\t\t// -- 4-byte signatures --\n\n\t\tif (this.checkString('FLIF')) {\n\t\t\treturn {\n\t\t\t\text: 'flif',\n\t\t\t\tmime: 'image/flif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('8BPS')) {\n\t\t\treturn {\n\t\t\t\text: 'psd',\n\t\t\t\tmime: 'image/vnd.adobe.photoshop',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('WEBP', {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'webp',\n\t\t\t\tmime: 'image/webp',\n\t\t\t};\n\t\t}\n\n\t\t// Musepack, SV8\n\t\tif (this.checkString('MPCK')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FORM')) {\n\t\t\treturn {\n\t\t\t\text: 'aif',\n\t\t\t\tmime: 'audio/aiff',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('icns', {offset: 0})) {\n\t\t\treturn {\n\t\t\t\text: 'icns',\n\t\t\t\tmime: 'image/icns',\n\t\t\t};\n\t\t}\n\n\t\t// Zip-based file formats\n\t\t// Need to be before the `zip` check\n\t\tif (this.check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature\n\t\t\ttry {\n\t\t\t\twhile (tokenizer.position + 30 < tokenizer.fileInfo.size) {\n\t\t\t\t\tawait tokenizer.readBuffer(this.buffer, {length: 30});\n\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Zip_(file_format)#File_headers\n\t\t\t\t\tconst zipHeader = {\n\t\t\t\t\t\tcompressedSize: this.buffer.readUInt32LE(18),\n\t\t\t\t\t\tuncompressedSize: this.buffer.readUInt32LE(22),\n\t\t\t\t\t\tfilenameLength: this.buffer.readUInt16LE(26),\n\t\t\t\t\t\textraFieldLength: this.buffer.readUInt16LE(28),\n\t\t\t\t\t};\n\n\t\t\t\t\tzipHeader.filename = await tokenizer.readToken(new Token.StringType(zipHeader.filenameLength, 'utf-8'));\n\t\t\t\t\tawait tokenizer.ignore(zipHeader.extraFieldLength);\n\n\t\t\t\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\t\t\t\tif (zipHeader.filename === 'META-INF/mozilla.rsa') {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'xpi',\n\t\t\t\t\t\t\tmime: 'application/x-xpinstall',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (zipHeader.filename.endsWith('.rels') || zipHeader.filename.endsWith('.xml')) {\n\t\t\t\t\t\tconst type = zipHeader.filename.split('/')[0];\n\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\tcase '_rels':\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'word':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'ppt':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'xl':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (zipHeader.filename.startsWith('xl/')) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (zipHeader.filename.startsWith('3D/') && zipHeader.filename.endsWith('.model')) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: '3mf',\n\t\t\t\t\t\t\tmime: 'model/3mf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t\t\t\t// We look for:\n\t\t\t\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t\t\t\t// - one entry indicating specific type of file.\n\t\t\t\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\t\t\t\tif (zipHeader.filename === 'mimetype' && zipHeader.compressedSize === zipHeader.uncompressedSize) {\n\t\t\t\t\t\tlet mimeType = await tokenizer.readToken(new Token.StringType(zipHeader.compressedSize, 'utf-8'));\n\t\t\t\t\t\tmimeType = mimeType.trim();\n\n\t\t\t\t\t\tswitch (mimeType) {\n\t\t\t\t\t\t\tcase 'application/epub+zip':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'epub',\n\t\t\t\t\t\t\t\t\tmime: 'application/epub+zip',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.text':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'odt',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.text',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.spreadsheet':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'ods',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.presentation':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'odp',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Try to find next header manually when current one is corrupted\n\t\t\t\t\tif (zipHeader.compressedSize === 0) {\n\t\t\t\t\t\tlet nextHeaderIndex = -1;\n\n\t\t\t\t\t\twhile (nextHeaderIndex < 0 && (tokenizer.position < tokenizer.fileInfo.size)) {\n\t\t\t\t\t\t\tawait tokenizer.peekBuffer(this.buffer, {mayBeLess: true});\n\n\t\t\t\t\t\t\tnextHeaderIndex = this.buffer.indexOf('504B0304', 0, 'hex');\n\t\t\t\t\t\t\t// Move position to the next header if found, skip the whole buffer otherwise\n\t\t\t\t\t\t\tawait tokenizer.ignore(nextHeaderIndex >= 0 ? nextHeaderIndex : this.buffer.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait tokenizer.ignore(zipHeader.compressedSize);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('OggS')) {\n\t\t\t// This is an OGG container\n\t\t\tawait tokenizer.ignore(28);\n\t\t\tconst type = Buffer.alloc(8);\n\t\t\tawait tokenizer.readBuffer(type);\n\n\t\t\t// Needs to be before `ogg` check\n\t\t\tif (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'opus',\n\t\t\t\t\tmime: 'audio/opus',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' theora' in header.\n\t\t\tif (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogv',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01video' in header.\n\t\t\tif (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogm',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\t\tif (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'oga',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\t\tif (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'spx',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01vorbis' in header\n\t\t\tif (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogg',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\t\treturn {\n\t\t\t\text: 'ogx',\n\t\t\t\tmime: 'application/ogg',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x50, 0x4B])\n\t\t\t&& (this.buffer[2] === 0x3 || this.buffer[2] === 0x5 || this.buffer[2] === 0x7)\n\t\t\t&& (this.buffer[3] === 0x4 || this.buffer[3] === 0x6 || this.buffer[3] === 0x8)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\t//\n\n\t\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\t\t// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n\t\t// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n\t\t// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n\t\tif (\n\t\t\tthis.checkString('ftyp', {offset: 4})\n\t\t\t&& (this.buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n\t\t) {\n\t\t\t// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n\t\t\t// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n\t\t\tconst brandMajor = this.buffer.toString('binary', 8, 12).replace('\\0', ' ').trim();\n\t\t\tswitch (brandMajor) {\n\t\t\t\tcase 'avif':\n\t\t\t\tcase 'avis':\n\t\t\t\t\treturn {ext: 'avif', mime: 'image/avif'};\n\t\t\t\tcase 'mif1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif'};\n\t\t\t\tcase 'msf1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif-sequence'};\n\t\t\t\tcase 'heic':\n\t\t\t\tcase 'heix':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic'};\n\t\t\t\tcase 'hevc':\n\t\t\t\tcase 'hevx':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic-sequence'};\n\t\t\t\tcase 'qt':\n\t\t\t\t\treturn {ext: 'mov', mime: 'video/quicktime'};\n\t\t\t\tcase 'M4V':\n\t\t\t\tcase 'M4VH':\n\t\t\t\tcase 'M4VP':\n\t\t\t\t\treturn {ext: 'm4v', mime: 'video/x-m4v'};\n\t\t\t\tcase 'M4P':\n\t\t\t\t\treturn {ext: 'm4p', mime: 'video/mp4'};\n\t\t\t\tcase 'M4B':\n\t\t\t\t\treturn {ext: 'm4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'M4A':\n\t\t\t\t\treturn {ext: 'm4a', mime: 'audio/x-m4a'};\n\t\t\t\tcase 'F4V':\n\t\t\t\t\treturn {ext: 'f4v', mime: 'video/mp4'};\n\t\t\t\tcase 'F4P':\n\t\t\t\t\treturn {ext: 'f4p', mime: 'video/mp4'};\n\t\t\t\tcase 'F4A':\n\t\t\t\t\treturn {ext: 'f4a', mime: 'audio/mp4'};\n\t\t\t\tcase 'F4B':\n\t\t\t\t\treturn {ext: 'f4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'crx':\n\t\t\t\t\treturn {ext: 'cr3', mime: 'image/x-canon-cr3'};\n\t\t\t\tdefault:\n\t\t\t\t\tif (brandMajor.startsWith('3g')) {\n\t\t\t\t\t\tif (brandMajor.startsWith('3g2')) {\n\t\t\t\t\t\t\treturn {ext: '3g2', mime: 'video/3gpp2'};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {ext: '3gp', mime: 'video/3gpp'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {ext: 'mp4', mime: 'video/mp4'};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('MThd')) {\n\t\t\treturn {\n\t\t\t\text: 'mid',\n\t\t\t\tmime: 'audio/midi',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOFF')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff',\n\t\t\t\tmime: 'font/woff',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOF2')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff2',\n\t\t\t\tmime: 'font/woff2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xD4, 0xC3, 0xB2, 0xA1]) || this.check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\t\treturn {\n\t\t\t\text: 'pcap',\n\t\t\t\tmime: 'application/vnd.tcpdump.pcap',\n\t\t\t};\n\t\t}\n\n\t\t// Sony DSD Stream File (DSF)\n\t\tif (this.checkString('DSD ')) {\n\t\t\treturn {\n\t\t\t\text: 'dsf',\n\t\t\t\tmime: 'audio/x-dsf', // Non-standard\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('LZIP')) {\n\t\t\treturn {\n\t\t\t\text: 'lz',\n\t\t\t\tmime: 'application/x-lzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('fLaC')) {\n\t\t\treturn {\n\t\t\t\text: 'flac',\n\t\t\t\tmime: 'audio/x-flac',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x50, 0x47, 0xFB])) {\n\t\t\treturn {\n\t\t\t\text: 'bpg',\n\t\t\t\tmime: 'image/bpg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('wvpk')) {\n\t\t\treturn {\n\t\t\t\text: 'wv',\n\t\t\t\tmime: 'audio/wavpack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('%PDF')) {\n\t\t\tawait tokenizer.ignore(1350);\n\t\t\tconst maxBufferSize = 10 * 1024 * 1024;\n\t\t\tconst buffer = Buffer.alloc(Math.min(maxBufferSize, tokenizer.fileInfo.size));\n\t\t\tawait tokenizer.readBuffer(buffer, {mayBeLess: true});\n\n\t\t\t// Check if this is an Adobe Illustrator file\n\t\t\tif (buffer.includes(Buffer.from('AIPrivateData'))) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ai',\n\t\t\t\t\tmime: 'application/postscript',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Assume this is just a normal PDF\n\t\t\treturn {\n\t\t\t\text: 'pdf',\n\t\t\t\tmime: 'application/pdf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x61, 0x73, 0x6D])) {\n\t\t\treturn {\n\t\t\t\text: 'wasm',\n\t\t\t\tmime: 'application/wasm',\n\t\t\t};\n\t\t}\n\n\t\t// TIFF, little-endian type\n\t\tif (this.check([0x49, 0x49])) {\n\t\t\tconst fileType = await this.readTiffHeader(false);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\t// TIFF, big-endian type\n\t\tif (this.check([0x4D, 0x4D])) {\n\t\t\tconst fileType = await this.readTiffHeader(true);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('MAC ')) {\n\t\t\treturn {\n\t\t\t\text: 'ape',\n\t\t\t\tmime: 'audio/ape',\n\t\t\t};\n\t\t}\n\n\t\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\t\tif (this.check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML\n\t\t\tasync function readField() {\n\t\t\t\tconst msb = await tokenizer.peekNumber(Token.UINT8);\n\t\t\t\tlet mask = 0x80;\n\t\t\t\tlet ic = 0; // 0 = A, 1 = B, 2 = C, 3\n\t\t\t\t// = D\n\n\t\t\t\twhile ((msb & mask) === 0 && mask !== 0) {\n\t\t\t\t\t++ic;\n\t\t\t\t\tmask >>= 1;\n\t\t\t\t}\n\n\t\t\t\tconst id = Buffer.alloc(ic + 1);\n\t\t\t\tawait tokenizer.readBuffer(id);\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tasync function readElement() {\n\t\t\t\tconst id = await readField();\n\t\t\t\tconst lengthField = await readField();\n\t\t\t\tlengthField[0] ^= 0x80 >> (lengthField.length - 1);\n\t\t\t\tconst nrLength = Math.min(6, lengthField.length); // JavaScript can max read 6 bytes integer\n\t\t\t\treturn {\n\t\t\t\t\tid: id.readUIntBE(0, id.length),\n\t\t\t\t\tlen: lengthField.readUIntBE(lengthField.length - nrLength, nrLength),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tasync function readChildren(children) {\n\t\t\t\twhile (children > 0) {\n\t\t\t\t\tconst element = await readElement();\n\t\t\t\t\tif (element.id === 0x42_82) {\n\t\t\t\t\t\tconst rawValue = await tokenizer.readToken(new Token.StringType(element.len, 'utf-8'));\n\t\t\t\t\t\treturn rawValue.replace(/\\00.*$/g, ''); // Return DocType\n\t\t\t\t\t}\n\n\t\t\t\t\tawait tokenizer.ignore(element.len); // ignore payload\n\t\t\t\t\t--children;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst re = await readElement();\n\t\t\tconst docType = await readChildren(re.len);\n\n\t\t\tswitch (docType) {\n\t\t\t\tcase 'webm':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'webm',\n\t\t\t\t\t\tmime: 'video/webm',\n\t\t\t\t\t};\n\n\t\t\t\tcase 'matroska':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mkv',\n\t\t\t\t\t\tmime: 'video/x-matroska',\n\t\t\t\t\t};\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// RIFF file format which might be AVI, WAV, QCP, etc\n\t\tif (this.check([0x52, 0x49, 0x46, 0x46])) {\n\t\t\tif (this.check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'avi',\n\t\t\t\t\tmime: 'video/vnd.avi',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'wav',\n\t\t\t\t\tmime: 'audio/vnd.wave',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// QLCM, QCP file\n\t\t\tif (this.check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'qcp',\n\t\t\t\t\tmime: 'audio/qcelp',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('SQLi')) {\n\t\t\treturn {\n\t\t\t\text: 'sqlite',\n\t\t\t\tmime: 'application/x-sqlite3',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\t\treturn {\n\t\t\t\text: 'nes',\n\t\t\t\tmime: 'application/x-nintendo-nes-rom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Cr24')) {\n\t\t\treturn {\n\t\t\t\text: 'crx',\n\t\t\t\tmime: 'application/x-google-chrome-extension',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('MSCF')\n\t\t\t|| this.checkString('ISc(')\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'cab',\n\t\t\t\tmime: 'application/vnd.ms-cab-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\t\treturn {\n\t\t\t\text: 'rpm',\n\t\t\t\tmime: 'application/x-rpm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC5, 0xD0, 0xD3, 0xC6])) {\n\t\t\treturn {\n\t\t\t\text: 'eps',\n\t\t\t\tmime: 'application/eps',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x28, 0xB5, 0x2F, 0xFD])) {\n\t\t\treturn {\n\t\t\t\text: 'zst',\n\t\t\t\tmime: 'application/zstd',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x7F, 0x45, 0x4C, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'elf',\n\t\t\t\tmime: 'application/x-elf',\n\t\t\t};\n\t\t}\n\n\t\t// -- 5-byte signatures --\n\n\t\tif (this.check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'otf',\n\t\t\t\tmime: 'font/otf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('#!AMR')) {\n\t\t\treturn {\n\t\t\t\text: 'amr',\n\t\t\t\tmime: 'audio/amr',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('{\\\\rtf')) {\n\t\t\treturn {\n\t\t\t\text: 'rtf',\n\t\t\t\tmime: 'application/rtf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x46, 0x4C, 0x56, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'flv',\n\t\t\t\tmime: 'video/x-flv',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('IMPM')) {\n\t\t\treturn {\n\t\t\t\text: 'it',\n\t\t\t\tmime: 'audio/x-it',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('-lh0-', {offset: 2})\n\t\t\t|| this.checkString('-lh1-', {offset: 2})\n\t\t\t|| this.checkString('-lh2-', {offset: 2})\n\t\t\t|| this.checkString('-lh3-', {offset: 2})\n\t\t\t|| this.checkString('-lh4-', {offset: 2})\n\t\t\t|| this.checkString('-lh5-', {offset: 2})\n\t\t\t|| this.checkString('-lh6-', {offset: 2})\n\t\t\t|| this.checkString('-lh7-', {offset: 2})\n\t\t\t|| this.checkString('-lzs-', {offset: 2})\n\t\t\t|| this.checkString('-lz4-', {offset: 2})\n\t\t\t|| this.checkString('-lz5-', {offset: 2})\n\t\t\t|| this.checkString('-lhd-', {offset: 2})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'lzh',\n\t\t\t\tmime: 'application/x-lzh-compressed',\n\t\t\t};\n\t\t}\n\n\t\t// MPEG program stream (PS or MPEG-PS)\n\t\tif (this.check([0x00, 0x00, 0x01, 0xBA])) {\n\t\t\t//  MPEG-PS, MPEG-1 Part 1\n\t\t\tif (this.check([0x21], {offset: 4, mask: [0xF1]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .ps, .mpeg\n\t\t\t\t\tmime: 'video/MP1S',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG-PS, MPEG-2 Part 1\n\t\t\tif (this.check([0x44], {offset: 4, mask: [0xC4]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .mpg, .m2p, .vob or .sub\n\t\t\t\t\tmime: 'video/MP2P',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('ITSF')) {\n\t\t\treturn {\n\t\t\t\text: 'chm',\n\t\t\t\tmime: 'application/vnd.ms-htmlhelp',\n\t\t\t};\n\t\t}\n\n\t\t// -- 6-byte signatures --\n\n\t\tif (this.check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'xz',\n\t\t\t\tmime: 'application/x-xz',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('<?xml ')) {\n\t\t\treturn {\n\t\t\t\text: 'xml',\n\t\t\t\tmime: 'application/xml',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\t\treturn {\n\t\t\t\text: '7z',\n\t\t\t\tmime: 'application/x-7z-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7])\n\t\t\t&& (this.buffer[6] === 0x0 || this.buffer[6] === 0x1)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'rar',\n\t\t\t\tmime: 'application/x-rar-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('solid ')) {\n\t\t\treturn {\n\t\t\t\text: 'stl',\n\t\t\t\tmime: 'model/stl',\n\t\t\t};\n\t\t}\n\n\t\t// -- 7-byte signatures --\n\n\t\tif (this.checkString('BLENDER')) {\n\t\t\treturn {\n\t\t\t\text: 'blend',\n\t\t\t\tmime: 'application/x-blender',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('!<arch>')) {\n\t\t\tawait tokenizer.ignore(8);\n\t\t\tconst string = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n\t\t\tif (string === 'debian-binary') {\n\t\t\t\treturn {\n\t\t\t\t\text: 'deb',\n\t\t\t\t\tmime: 'application/x-deb',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ar',\n\t\t\t\tmime: 'application/x-unix-archive',\n\t\t\t};\n\t\t}\n\n\t\t// -- 8-byte signatures --\n\n\t\tif (this.check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\t// APNG format (https://wiki.mozilla.org/APNG_Specification)\n\t\t\t// 1. Find the first IDAT (image data) chunk (49 44 41 54)\n\t\t\t// 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n\t\t\t// Offset calculated as follows:\n\t\t\t// - 8 bytes: PNG signature\n\t\t\t// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n\t\t\tawait tokenizer.ignore(8); // ignore PNG signature\n\n\t\t\tasync function readChunkHeader() {\n\t\t\t\treturn {\n\t\t\t\t\tlength: await tokenizer.readToken(Token.INT32_BE),\n\t\t\t\t\ttype: await tokenizer.readToken(new Token.StringType(4, 'binary')),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdo {\n\t\t\t\tconst chunk = await readChunkHeader();\n\t\t\t\tif (chunk.length < 0) {\n\t\t\t\t\treturn; // Invalid chunk length\n\t\t\t\t}\n\n\t\t\t\tswitch (chunk.type) {\n\t\t\t\t\tcase 'IDAT':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'png',\n\t\t\t\t\t\t\tmime: 'image/png',\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'acTL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'apng',\n\t\t\t\t\t\t\tmime: 'image/apng',\n\t\t\t\t\t\t};\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tawait tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC\n\t\t\t\t}\n\t\t\t} while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n\n\t\t\treturn {\n\t\t\t\text: 'png',\n\t\t\t\tmime: 'image/png',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'arrow',\n\t\t\t\tmime: 'application/x-apache-arrow',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'glb',\n\t\t\t\tmime: 'model/gltf-binary',\n\t\t\t};\n\t\t}\n\n\t\t// `mov` format variants\n\t\tif (\n\t\t\tthis.check([0x66, 0x72, 0x65, 0x65], {offset: 4}) // `free`\n\t\t\t|| this.check([0x6D, 0x64, 0x61, 0x74], {offset: 4}) // `mdat` MJPEG\n\t\t\t|| this.check([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) // `moov`\n\t\t\t|| this.check([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mov',\n\t\t\t\tmime: 'video/quicktime',\n\t\t\t};\n\t\t}\n\n\t\t// -- 9-byte signatures --\n\n\t\tif (this.check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n\t\t\treturn {\n\t\t\t\text: 'orf',\n\t\t\t\tmime: 'image/x-olympus-orf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('gimp xcf ')) {\n\t\t\treturn {\n\t\t\t\text: 'xcf',\n\t\t\t\tmime: 'image/x-xcf',\n\t\t\t};\n\t\t}\n\n\t\t// -- 12-byte signatures --\n\n\t\tif (this.check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n\t\t\treturn {\n\t\t\t\text: 'rw2',\n\t\t\t\tmime: 'image/x-panasonic-rw2',\n\t\t\t};\n\t\t}\n\n\t\t// ASF_Header_Object first 80 bytes\n\t\tif (this.check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t\tasync function readHeader() {\n\t\t\t\tconst guid = Buffer.alloc(16);\n\t\t\t\tawait tokenizer.readBuffer(guid);\n\t\t\t\treturn {\n\t\t\t\t\tid: guid,\n\t\t\t\t\tsize: Number(await tokenizer.readToken(Token.UINT64_LE)),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(30);\n\t\t\t// Search for header should be in first 1KB of file.\n\t\t\twhile (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n\t\t\t\tconst header = await readHeader();\n\t\t\t\tlet payload = header.size - 24;\n\t\t\t\tif (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n\t\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\t\tconst typeId = Buffer.alloc(16);\n\t\t\t\t\tpayload -= await tokenizer.readBuffer(typeId);\n\n\t\t\t\t\tif (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found audio:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'audio/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found video:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'video/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tawait tokenizer.ignore(payload);\n\t\t\t}\n\n\t\t\t// Default to ASF generic extension\n\t\t\treturn {\n\t\t\t\text: 'asf',\n\t\t\t\tmime: 'application/vnd.ms-asf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\treturn {\n\t\t\t\text: 'ktx',\n\t\t\t\tmime: 'image/ktx',\n\t\t\t};\n\t\t}\n\n\t\tif ((this.check([0x7E, 0x10, 0x04]) || this.check([0x7E, 0x18, 0x04])) && this.check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {\n\t\t\treturn {\n\t\t\t\text: 'mie',\n\t\t\t\tmime: 'application/x-mie',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {\n\t\t\treturn {\n\t\t\t\text: 'shp',\n\t\t\t\tmime: 'application/x-esri-shape',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t\t// JPEG-2000 family\n\n\t\t\tawait tokenizer.ignore(20);\n\t\t\tconst type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n\t\t\tswitch (type) {\n\t\t\t\tcase 'jp2 ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jp2',\n\t\t\t\t\t\tmime: 'image/jp2',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpx ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpx',\n\t\t\t\t\t\tmime: 'image/jpx',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpm ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpm',\n\t\t\t\t\t\tmime: 'image/jpm',\n\t\t\t\t\t};\n\t\t\t\tcase 'mjp2':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mj2',\n\t\t\t\t\t\tmime: 'image/mj2',\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0xFF, 0x0A])\n\t\t\t|| this.check([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'jxl',\n\t\t\t\tmime: 'image/jxl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFE, 0xFF])) { // UTF-16-BOM-LE\n\t\t\tif (this.check([0, 60, 0, 63, 0, 120, 0, 109, 0, 108], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some unknown text based format\n\t\t}\n\n\t\t// -- Unsafe signatures --\n\n\t\tif (\n\t\t\tthis.check([0x0, 0x0, 0x1, 0xBA])\n\t\t\t|| this.check([0x0, 0x0, 0x1, 0xB3])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mpg',\n\t\t\t\tmime: 'video/mpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ttf',\n\t\t\t\tmime: 'font/ttf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x01, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ico',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x02, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'cur',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\t\t// Detected Microsoft Compound File Binary File (MS-CFB) Format.\n\t\t\treturn {\n\t\t\t\text: 'cfb',\n\t\t\t\tmime: 'application/x-cfb',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 12 to 256.\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// -- 15-byte signatures --\n\n\t\tif (this.checkString('BEGIN:')) {\n\t\t\tif (this.checkString('VCARD', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'vcf',\n\t\t\t\t\tmime: 'text/vcard',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.checkString('VCALENDAR', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ics',\n\t\t\t\t\tmime: 'text/calendar',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// `raf` is here just to keep all the raw image detectors together.\n\t\tif (this.checkString('FUJIFILMCCD-RAW')) {\n\t\t\treturn {\n\t\t\t\text: 'raf',\n\t\t\t\tmime: 'image/x-fujifilm-raf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Extended Module:')) {\n\t\t\treturn {\n\t\t\t\text: 'xm',\n\t\t\t\tmime: 'audio/x-xm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Creative Voice File')) {\n\t\t\treturn {\n\t\t\t\text: 'voc',\n\t\t\t\tmime: 'audio/x-voc',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x04, 0x00, 0x00, 0x00]) && this.buffer.length >= 16) { // Rough & quick check Pickle/ASAR\n\t\t\tconst jsonSize = this.buffer.readUInt32LE(12);\n\t\t\tif (jsonSize > 12 && this.buffer.length >= jsonSize + 16) {\n\t\t\t\ttry {\n\t\t\t\t\tconst header = this.buffer.slice(16, jsonSize + 16).toString();\n\t\t\t\t\tconst json = JSON.parse(header);\n\t\t\t\t\t// Check if Pickle is ASAR\n\t\t\t\t\tif (json.files) { // Final check, assuring Pickle/ASAR format\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asar',\n\t\t\t\t\t\t\tmime: 'application/x-asar',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} catch {}\n\t\t\t}\n\t\t}\n\n\t\tif (this.check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\t\treturn {\n\t\t\t\text: 'mxf',\n\t\t\t\tmime: 'application/mxf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('SCRM', {offset: 44})) {\n\t\t\treturn {\n\t\t\t\text: 's3m',\n\t\t\t\tmime: 'audio/x-s3m',\n\t\t\t};\n\t\t}\n\n\t\t// Raw MPEG-2 transport stream (188-byte packets)\n\t\tif (this.check([0x47]) && this.check([0x47], {offset: 188})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\t// Blu-ray Disc Audio-Video (BDAV) MPEG-2 transport stream has 4-byte TP_extra_header before each 188-byte packet\n\t\tif (this.check([0x47], {offset: 4}) && this.check([0x47], {offset: 196})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\t\treturn {\n\t\t\t\text: 'mobi',\n\t\t\t\tmime: 'application/x-mobipocket-ebook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\t\treturn {\n\t\t\t\text: 'dcm',\n\t\t\t\tmime: 'application/dicom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'lnk',\n\t\t\t\tmime: 'application/x.ms.shortcut', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'alias',\n\t\t\t\tmime: 'application/x.apple.alias', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x4C, 0x50], {offset: 34})\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x00, 0x01], {offset: 8})\n\t\t\t\t|| this.check([0x01, 0x00, 0x02], {offset: 8})\n\t\t\t\t|| this.check([0x02, 0x00, 0x02], {offset: 8})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'eot',\n\t\t\t\tmime: 'application/vnd.ms-fontobject',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n\t\t\treturn {\n\t\t\t\text: 'indd',\n\t\t\t\tmime: 'application/x-indesign',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 256 to 512\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// Requires a buffer size of 512 bytes\n\t\tif (tarHeaderChecksumMatches(this.buffer)) {\n\t\t\treturn {\n\t\t\t\text: 'tar',\n\t\t\t\tmime: 'application/x-tar',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0xFE])) { // UTF-16-BOM-BE\n\t\t\tif (this.check([60, 0, 63, 0, 120, 0, 109, 0, 108, 0], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'skp',\n\t\t\t\t\tmime: 'application/vnd.sketchup.skp',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some text based format\n\t\t}\n\n\t\tif (this.checkString('-----BEGIN PGP MESSAGE-----')) {\n\t\t\treturn {\n\t\t\t\text: 'pgp',\n\t\t\t\tmime: 'application/pgp-encrypted',\n\t\t\t};\n\t\t}\n\n\t\t// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n\t\tif (this.buffer.length >= 2 && this.check([0xFF, 0xE0], {offset: 0, mask: [0xFF, 0xE0]})) {\n\t\t\tif (this.check([0x10], {offset: 1, mask: [0x16]})) {\n\t\t\t\t// Check for (ADTS) MPEG-2\n\t\t\t\tif (this.check([0x08], {offset: 1, mask: [0x08]})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'aac',\n\t\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Must be (ADTS) MPEG-4\n\t\t\t\treturn {\n\t\t\t\t\text: 'aac',\n\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG 1 or 2 Layer 3 header\n\t\t\t// Check for MPEG layer 3\n\t\t\tif (this.check([0x02], {offset: 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 2\n\t\t\tif (this.check([0x04], {offset: 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp2',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 1\n\t\t\tif (this.check([0x06], {offset: 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp1',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tasync readTiffTag(bigEndian) {\n\t\tconst tagId = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tthis.tokenizer.ignore(10);\n\t\tswitch (tagId) {\n\t\t\tcase 50_341:\n\t\t\t\treturn {\n\t\t\t\t\text: 'arw',\n\t\t\t\t\tmime: 'image/x-sony-arw',\n\t\t\t\t};\n\t\t\tcase 50_706:\n\t\t\t\treturn {\n\t\t\t\t\text: 'dng',\n\t\t\t\t\tmime: 'image/x-adobe-dng',\n\t\t\t\t};\n\t\t\tdefault:\n\t\t}\n\t}\n\n\tasync readTiffIFD(bigEndian) {\n\t\tconst numberOfTags = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tfor (let n = 0; n < numberOfTags; ++n) {\n\t\t\tconst fileType = await this.readTiffTag(bigEndian);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync readTiffHeader(bigEndian) {\n\t\tconst version = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 2);\n\t\tconst ifdOffset = (bigEndian ? Token.UINT32_BE : Token.UINT32_LE).get(this.buffer, 4);\n\n\t\tif (version === 42) {\n\t\t\t// TIFF file header\n\t\t\tif (ifdOffset >= 6) {\n\t\t\t\tif (this.checkString('CR', {offset: 8})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'cr2',\n\t\t\t\t\t\tmime: 'image/x-canon-cr2',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (ifdOffset >= 8 && (this.check([0x1C, 0x00, 0xFE, 0x00], {offset: 8}) || this.check([0x1F, 0x00, 0x0B, 0x00], {offset: 8}))) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'nef',\n\t\t\t\t\t\tmime: 'image/x-nikon-nef',\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.tokenizer.ignore(ifdOffset);\n\t\t\tconst fileType = await this.readTiffIFD(false);\n\t\t\treturn fileType ? fileType : {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\n\t\tif (version === 43) {\t// Big TIFF file header\n\t\t\treturn {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\t}\n}\n\nexport async function fileTypeStream(readableStream, {sampleSize = minimumBytes} = {}) {\n\tconst {default: stream} = await import('node:stream');\n\n\treturn new Promise((resolve, reject) => {\n\t\treadableStream.on('error', reject);\n\n\t\treadableStream.once('readable', () => {\n\t\t\t(async () => {\n\t\t\t\ttry {\n\t\t\t\t\t// Set up output stream\n\t\t\t\t\tconst pass = new stream.PassThrough();\n\t\t\t\t\tconst outputStream = stream.pipeline ? stream.pipeline(readableStream, pass, () => {}) : readableStream.pipe(pass);\n\n\t\t\t\t\t// Read the input stream and detect the filetype\n\t\t\t\t\tconst chunk = readableStream.read(sampleSize) ?? readableStream.read() ?? Buffer.alloc(0);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst fileType = await fileTypeFromBuffer(chunk);\n\t\t\t\t\t\tpass.fileType = fileType;\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tif (error instanceof strtok3.EndOfStreamError) {\n\t\t\t\t\t\t\tpass.fileType = undefined;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(outputStream);\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t})();\n\t\t});\n\t});\n}\n\nexport const supportedExtensions = new Set(extensions);\nexport const supportedMimeTypes = new Set(mimeTypes);\n","import * as strtok3 from 'strtok3';\nimport {fileTypeFromTokenizer} from './core.js';\n\nexport async function fileTypeFromFile(path) {\n\tconst tokenizer = await strtok3.fromFile(path);\n\ttry {\n\t\treturn await fileTypeFromTokenizer(tokenizer);\n\t} finally {\n\t\tawait tokenizer.close();\n\t}\n}\n\nexport * from './core.js';\n","export const extensions = [\n\t'jpg',\n\t'png',\n\t'apng',\n\t'gif',\n\t'webp',\n\t'flif',\n\t'xcf',\n\t'cr2',\n\t'cr3',\n\t'orf',\n\t'arw',\n\t'dng',\n\t'nef',\n\t'rw2',\n\t'raf',\n\t'tif',\n\t'bmp',\n\t'icns',\n\t'jxr',\n\t'psd',\n\t'indd',\n\t'zip',\n\t'tar',\n\t'rar',\n\t'gz',\n\t'bz2',\n\t'7z',\n\t'dmg',\n\t'mp4',\n\t'mid',\n\t'mkv',\n\t'webm',\n\t'mov',\n\t'avi',\n\t'mpg',\n\t'mp2',\n\t'mp3',\n\t'm4a',\n\t'oga',\n\t'ogg',\n\t'ogv',\n\t'opus',\n\t'flac',\n\t'wav',\n\t'spx',\n\t'amr',\n\t'pdf',\n\t'epub',\n\t'elf',\n\t'exe',\n\t'swf',\n\t'rtf',\n\t'wasm',\n\t'woff',\n\t'woff2',\n\t'eot',\n\t'ttf',\n\t'otf',\n\t'ico',\n\t'flv',\n\t'ps',\n\t'xz',\n\t'sqlite',\n\t'nes',\n\t'crx',\n\t'xpi',\n\t'cab',\n\t'deb',\n\t'ar',\n\t'rpm',\n\t'Z',\n\t'lz',\n\t'cfb',\n\t'mxf',\n\t'mts',\n\t'blend',\n\t'bpg',\n\t'docx',\n\t'pptx',\n\t'xlsx',\n\t'3gp',\n\t'3g2',\n\t'jp2',\n\t'jpm',\n\t'jpx',\n\t'mj2',\n\t'aif',\n\t'qcp',\n\t'odt',\n\t'ods',\n\t'odp',\n\t'xml',\n\t'mobi',\n\t'heic',\n\t'cur',\n\t'ktx',\n\t'ape',\n\t'wv',\n\t'dcm',\n\t'ics',\n\t'glb',\n\t'pcap',\n\t'dsf',\n\t'lnk',\n\t'alias',\n\t'voc',\n\t'ac3',\n\t'm4v',\n\t'm4p',\n\t'm4b',\n\t'f4v',\n\t'f4p',\n\t'f4b',\n\t'f4a',\n\t'mie',\n\t'asf',\n\t'ogm',\n\t'ogx',\n\t'mpc',\n\t'arrow',\n\t'shp',\n\t'aac',\n\t'mp1',\n\t'it',\n\t's3m',\n\t'xm',\n\t'ai',\n\t'skp',\n\t'avif',\n\t'eps',\n\t'lzh',\n\t'pgp',\n\t'asar',\n\t'stl',\n\t'chm',\n\t'3mf',\n\t'zst',\n\t'jxl',\n\t'vcf',\n];\n\nexport const mimeTypes = [\n\t'image/jpeg',\n\t'image/png',\n\t'image/gif',\n\t'image/webp',\n\t'image/flif',\n\t'image/x-xcf',\n\t'image/x-canon-cr2',\n\t'image/x-canon-cr3',\n\t'image/tiff',\n\t'image/bmp',\n\t'image/vnd.ms-photo',\n\t'image/vnd.adobe.photoshop',\n\t'application/x-indesign',\n\t'application/epub+zip',\n\t'application/x-xpinstall',\n\t'application/vnd.oasis.opendocument.text',\n\t'application/vnd.oasis.opendocument.spreadsheet',\n\t'application/vnd.oasis.opendocument.presentation',\n\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t'application/zip',\n\t'application/x-tar',\n\t'application/x-rar-compressed',\n\t'application/gzip',\n\t'application/x-bzip2',\n\t'application/x-7z-compressed',\n\t'application/x-apple-diskimage',\n\t'application/x-apache-arrow',\n\t'video/mp4',\n\t'audio/midi',\n\t'video/x-matroska',\n\t'video/webm',\n\t'video/quicktime',\n\t'video/vnd.avi',\n\t'audio/vnd.wave',\n\t'audio/qcelp',\n\t'audio/x-ms-asf',\n\t'video/x-ms-asf',\n\t'application/vnd.ms-asf',\n\t'video/mpeg',\n\t'video/3gpp',\n\t'audio/mpeg',\n\t'audio/mp4', // RFC 4337\n\t'audio/opus',\n\t'video/ogg',\n\t'audio/ogg',\n\t'application/ogg',\n\t'audio/x-flac',\n\t'audio/ape',\n\t'audio/wavpack',\n\t'audio/amr',\n\t'application/pdf',\n\t'application/x-elf',\n\t'application/x-msdownload',\n\t'application/x-shockwave-flash',\n\t'application/rtf',\n\t'application/wasm',\n\t'font/woff',\n\t'font/woff2',\n\t'application/vnd.ms-fontobject',\n\t'font/ttf',\n\t'font/otf',\n\t'image/x-icon',\n\t'video/x-flv',\n\t'application/postscript',\n\t'application/eps',\n\t'application/x-xz',\n\t'application/x-sqlite3',\n\t'application/x-nintendo-nes-rom',\n\t'application/x-google-chrome-extension',\n\t'application/vnd.ms-cab-compressed',\n\t'application/x-deb',\n\t'application/x-unix-archive',\n\t'application/x-rpm',\n\t'application/x-compress',\n\t'application/x-lzip',\n\t'application/x-cfb',\n\t'application/x-mie',\n\t'application/mxf',\n\t'video/mp2t',\n\t'application/x-blender',\n\t'image/bpg',\n\t'image/jp2',\n\t'image/jpx',\n\t'image/jpm',\n\t'image/mj2',\n\t'audio/aiff',\n\t'application/xml',\n\t'application/x-mobipocket-ebook',\n\t'image/heif',\n\t'image/heif-sequence',\n\t'image/heic',\n\t'image/heic-sequence',\n\t'image/icns',\n\t'image/ktx',\n\t'application/dicom',\n\t'audio/x-musepack',\n\t'text/calendar',\n\t'text/vcard',\n\t'model/gltf-binary',\n\t'application/vnd.tcpdump.pcap',\n\t'audio/x-dsf', // Non-standard\n\t'application/x.ms.shortcut', // Invented by us\n\t'application/x.apple.alias', // Invented by us\n\t'audio/x-voc',\n\t'audio/vnd.dolby.dd-raw',\n\t'audio/x-m4a',\n\t'image/apng',\n\t'image/x-olympus-orf',\n\t'image/x-sony-arw',\n\t'image/x-adobe-dng',\n\t'image/x-nikon-nef',\n\t'image/x-panasonic-rw2',\n\t'image/x-fujifilm-raf',\n\t'video/x-m4v',\n\t'video/3gpp2',\n\t'application/x-esri-shape',\n\t'audio/aac',\n\t'audio/x-it',\n\t'audio/x-s3m',\n\t'audio/x-xm',\n\t'video/MP1S',\n\t'video/MP2P',\n\t'application/vnd.sketchup.skp',\n\t'image/avif',\n\t'application/x-lzh-compressed',\n\t'application/pgp-encrypted',\n\t'application/x-asar',\n\t'model/stl',\n\t'application/vnd.ms-htmlhelp',\n\t'model/3mf',\n\t'image/jxl',\n\t'application/zstd',\n];\n","export function stringToBytes(string) {\n\treturn [...string].map(character => character.charCodeAt(0)); // eslint-disable-line unicorn/prefer-code-point\n}\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Buffer} buffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexport function tarHeaderChecksumMatches(buffer, offset = 0) {\n\tconst readSum = Number.parseInt(buffer.toString('utf8', 148, 154).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n\tif (Number.isNaN(readSum)) {\n\t\treturn false;\n\t}\n\n\tlet sum = 8 * 0x20; // Initialize signed bit sum\n\n\tfor (let index = offset; index < offset + 148; index++) {\n\t\tsum += buffer[index];\n\t}\n\n\tfor (let index = offset + 156; index < offset + 512; index++) {\n\t\tsum += buffer[index];\n\t}\n\n\treturn readSum === sum;\n}\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexport const uint32SyncSafeToken = {\n\tget: (buffer, offset) => (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21),\n\tlen: 4,\n};\n","export class Deferred {\n    constructor() {\n        this.resolve = () => null;\n        this.reject = () => null;\n        this.promise = new Promise((resolve, reject) => {\n            this.reject = reject;\n            this.resolve = resolve;\n        });\n    }\n}\n","export const defaultMessages = 'End-Of-Stream';\n/**\n * Thrown on read operation of the end of file or stream has been reached\n */\nexport class EndOfStreamError extends Error {\n    constructor() {\n        super(defaultMessages);\n    }\n}\n","import { EndOfStreamError } from './EndOfFileStream.js';\nimport { Deferred } from './Deferred.js';\nexport { EndOfStreamError } from './EndOfFileStream.js';\nconst maxStreamReadSize = 1 * 1024 * 1024; // Maximum request length on read-stream operation\nexport class StreamReader {\n    constructor(s) {\n        this.s = s;\n        /**\n         * Deferred used for postponed read request (as not data is yet available to read)\n         */\n        this.deferred = null;\n        this.endOfStream = false;\n        /**\n         * Store peeked data\n         * @type {Array}\n         */\n        this.peekQueue = [];\n        if (!s.read || !s.once) {\n            throw new Error('Expected an instance of stream.Readable');\n        }\n        this.s.once('end', () => this.reject(new EndOfStreamError()));\n        this.s.once('error', err => this.reject(err));\n        this.s.once('close', () => this.reject(new Error('Stream closed')));\n    }\n    /**\n     * Read ahead (peek) from stream. Subsequent read or peeks will return the same data\n     * @param uint8Array - Uint8Array (or Buffer) to store data read from stream in\n     * @param offset - Offset target\n     * @param length - Number of bytes to read\n     * @returns Number of bytes peeked\n     */\n    async peek(uint8Array, offset, length) {\n        const bytesRead = await this.read(uint8Array, offset, length);\n        this.peekQueue.push(uint8Array.subarray(offset, offset + bytesRead)); // Put read data back to peek buffer\n        return bytesRead;\n    }\n    /**\n     * Read chunk from stream\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n     * @param offset - Offset target\n     * @param length - Number of bytes to read\n     * @returns Number of bytes read\n     */\n    async read(buffer, offset, length) {\n        if (length === 0) {\n            return 0;\n        }\n        if (this.peekQueue.length === 0 && this.endOfStream) {\n            throw new EndOfStreamError();\n        }\n        let remaining = length;\n        let bytesRead = 0;\n        // consume peeked data first\n        while (this.peekQueue.length > 0 && remaining > 0) {\n            const peekData = this.peekQueue.pop(); // Front of queue\n            if (!peekData)\n                throw new Error('peekData should be defined');\n            const lenCopy = Math.min(peekData.length, remaining);\n            buffer.set(peekData.subarray(0, lenCopy), offset + bytesRead);\n            bytesRead += lenCopy;\n            remaining -= lenCopy;\n            if (lenCopy < peekData.length) {\n                // remainder back to queue\n                this.peekQueue.push(peekData.subarray(lenCopy));\n            }\n        }\n        // continue reading from stream if required\n        while (remaining > 0 && !this.endOfStream) {\n            const reqLen = Math.min(remaining, maxStreamReadSize);\n            const chunkLen = await this.readFromStream(buffer, offset + bytesRead, reqLen);\n            bytesRead += chunkLen;\n            if (chunkLen < reqLen)\n                break;\n            remaining -= chunkLen;\n        }\n        return bytesRead;\n    }\n    /**\n     * Read chunk from stream\n     * @param buffer Target Uint8Array (or Buffer) to store data read from stream in\n     * @param offset Offset target\n     * @param length Number of bytes to read\n     * @returns Number of bytes read\n     */\n    async readFromStream(buffer, offset, length) {\n        const readBuffer = this.s.read(length);\n        if (readBuffer) {\n            buffer.set(readBuffer, offset);\n            return readBuffer.length;\n        }\n        else {\n            const request = {\n                buffer,\n                offset,\n                length,\n                deferred: new Deferred()\n            };\n            this.deferred = request.deferred;\n            this.s.once('readable', () => {\n                this.readDeferred(request);\n            });\n            return request.deferred.promise;\n        }\n    }\n    /**\n     * Process deferred read request\n     * @param request Deferred read request\n     */\n    readDeferred(request) {\n        const readBuffer = this.s.read(request.length);\n        if (readBuffer) {\n            request.buffer.set(readBuffer, request.offset);\n            request.deferred.resolve(readBuffer.length);\n            this.deferred = null;\n        }\n        else {\n            this.s.once('readable', () => {\n                this.readDeferred(request);\n            });\n        }\n    }\n    reject(err) {\n        this.endOfStream = true;\n        if (this.deferred) {\n            this.deferred.reject(err);\n            this.deferred = null;\n        }\n    }\n}\n","export { EndOfStreamError } from './EndOfFileStream.js';\nexport { StreamReader } from './StreamReader.js';\n","import { EndOfStreamError } from 'peek-readable';\nimport { Buffer } from 'node:buffer';\n/**\n * Core tokenizer\n */\nexport class AbstractTokenizer {\n    constructor(fileInfo) {\n        /**\n         * Tokenizer-stream position\n         */\n        this.position = 0;\n        this.numBuffer = new Uint8Array(8);\n        this.fileInfo = fileInfo ? fileInfo : {};\n    }\n    /**\n     * Read a token from the tokenizer-stream\n     * @param token - The token to read\n     * @param position - If provided, the desired position in the tokenizer-stream\n     * @returns Promise with token data\n     */\n    async readToken(token, position = this.position) {\n        const uint8Array = Buffer.alloc(token.len);\n        const len = await this.readBuffer(uint8Array, { position });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(uint8Array, 0);\n    }\n    /**\n     * Peek a token from the tokenizer-stream.\n     * @param token - Token to peek from the tokenizer-stream.\n     * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.\n     * @returns Promise with token data\n     */\n    async peekToken(token, position = this.position) {\n        const uint8Array = Buffer.alloc(token.len);\n        const len = await this.peekBuffer(uint8Array, { position });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(uint8Array, 0);\n    }\n    /**\n     * Read a numeric token from the stream\n     * @param token - Numeric token\n     * @returns Promise with number\n     */\n    async readNumber(token) {\n        const len = await this.readBuffer(this.numBuffer, { length: token.len });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(this.numBuffer, 0);\n    }\n    /**\n     * Read a numeric token from the stream\n     * @param token - Numeric token\n     * @returns Promise with number\n     */\n    async peekNumber(token) {\n        const len = await this.peekBuffer(this.numBuffer, { length: token.len });\n        if (len < token.len)\n            throw new EndOfStreamError();\n        return token.get(this.numBuffer, 0);\n    }\n    /**\n     * Ignore number of bytes, advances the pointer in under tokenizer-stream.\n     * @param length - Number of bytes to ignore\n     * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available\n     */\n    async ignore(length) {\n        if (this.fileInfo.size !== undefined) {\n            const bytesLeft = this.fileInfo.size - this.position;\n            if (length > bytesLeft) {\n                this.position += bytesLeft;\n                return bytesLeft;\n            }\n        }\n        this.position += length;\n        return length;\n    }\n    async close() {\n        // empty\n    }\n    normalizeOptions(uint8Array, options) {\n        if (options && options.position !== undefined && options.position < this.position) {\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n        }\n        if (options) {\n            return {\n                mayBeLess: options.mayBeLess === true,\n                offset: options.offset ? options.offset : 0,\n                length: options.length ? options.length : (uint8Array.length - (options.offset ? options.offset : 0)),\n                position: options.position ? options.position : this.position\n            };\n        }\n        return {\n            mayBeLess: false,\n            offset: 0,\n            length: uint8Array.length,\n            position: this.position\n        };\n    }\n}\n","import { EndOfStreamError } from 'peek-readable';\nimport { AbstractTokenizer } from './AbstractTokenizer.js';\nexport class BufferTokenizer extends AbstractTokenizer {\n    /**\n     * Construct BufferTokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param fileInfo - Pass additional file information to the tokenizer\n     */\n    constructor(uint8Array, fileInfo) {\n        super(fileInfo);\n        this.uint8Array = uint8Array;\n        this.fileInfo.size = this.fileInfo.size ? this.fileInfo.size : uint8Array.length;\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Uint8Array to tokenize\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async readBuffer(uint8Array, options) {\n        if (options && options.position) {\n            if (options.position < this.position) {\n                throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n            }\n            this.position = options.position;\n        }\n        const bytesRead = await this.peekBuffer(uint8Array, options);\n        this.position += bytesRead;\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param uint8Array\n     * @param options - Read behaviour options\n     * @returns {Promise<number>}\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);\n        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        else {\n            uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read), normOptions.offset);\n            return bytes2read;\n        }\n    }\n    async close() {\n        // empty\n    }\n}\n","import { AbstractTokenizer } from './AbstractTokenizer.js';\nimport { EndOfStreamError } from 'peek-readable';\nimport * as fs from './FsPromise.js';\nexport class FileTokenizer extends AbstractTokenizer {\n    constructor(fd, fileInfo) {\n        super(fileInfo);\n        this.fd = fd;\n    }\n    /**\n     * Read buffer from file\n     * @param uint8Array - Uint8Array to write result to\n     * @param options - Read behaviour options\n     * @returns Promise number of bytes read\n     */\n    async readBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        this.position = normOptions.position;\n        const res = await fs.read(this.fd, uint8Array, normOptions.offset, normOptions.length, normOptions.position);\n        this.position += res.bytesRead;\n        if (res.bytesRead < normOptions.length && (!options || !options.mayBeLess)) {\n            throw new EndOfStreamError();\n        }\n        return res.bytesRead;\n    }\n    /**\n     * Peek buffer from file\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\n     * @param options - Read behaviour options\n     * @returns Promise number of bytes read\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const res = await fs.read(this.fd, uint8Array, normOptions.offset, normOptions.length, normOptions.position);\n        if ((!normOptions.mayBeLess) && res.bytesRead < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        return res.bytesRead;\n    }\n    async close() {\n        return fs.close(this.fd);\n    }\n}\nexport async function fromFile(sourceFilePath) {\n    const stat = await fs.stat(sourceFilePath);\n    if (!stat.isFile) {\n        throw new Error(`File not a file: ${sourceFilePath}`);\n    }\n    const fd = await fs.open(sourceFilePath, 'r');\n    return new FileTokenizer(fd, { path: sourceFilePath, size: stat.size });\n}\n","/**\n * Module convert fs functions to promise based functions\n */\nimport fs from 'node:fs';\nexport const pathExists = fs.existsSync;\nexport const createReadStream = fs.createReadStream;\nexport async function stat(path) {\n    return new Promise((resolve, reject) => {\n        fs.stat(path, (err, stats) => {\n            if (err)\n                reject(err);\n            else\n                resolve(stats);\n        });\n    });\n}\nexport async function close(fd) {\n    return new Promise((resolve, reject) => {\n        fs.close(fd, err => {\n            if (err)\n                reject(err);\n            else\n                resolve();\n        });\n    });\n}\nexport async function open(path, mode) {\n    return new Promise((resolve, reject) => {\n        fs.open(path, mode, (err, fd) => {\n            if (err)\n                reject(err);\n            else\n                resolve(fd);\n        });\n    });\n}\nexport async function read(fd, buffer, offset, length, position) {\n    return new Promise((resolve, reject) => {\n        fs.read(fd, buffer, offset, length, position, (err, bytesRead, _buffer) => {\n            if (err)\n                reject(err);\n            else\n                resolve({ bytesRead, buffer: _buffer });\n        });\n    });\n}\nexport async function writeFile(path, data) {\n    return new Promise((resolve, reject) => {\n        fs.writeFile(path, data, err => {\n            if (err)\n                reject(err);\n            else\n                resolve();\n        });\n    });\n}\nexport function writeFileSync(path, data) {\n    fs.writeFileSync(path, data);\n}\nexport async function readFile(path) {\n    return new Promise((resolve, reject) => {\n        fs.readFile(path, (err, buffer) => {\n            if (err)\n                reject(err);\n            else\n                resolve(buffer);\n        });\n    });\n}\n","import { AbstractTokenizer } from './AbstractTokenizer.js';\nimport { EndOfStreamError, StreamReader } from 'peek-readable';\nconst maxBufferSize = 256000;\nexport class ReadStreamTokenizer extends AbstractTokenizer {\n    constructor(stream, fileInfo) {\n        super(fileInfo);\n        this.streamReader = new StreamReader(stream);\n    }\n    /**\n     * Get file information, an HTTP-client may implement this doing a HEAD request\n     * @return Promise with file information\n     */\n    async getFileInfo() {\n        return this.fileInfo;\n    }\n    /**\n     * Read buffer from tokenizer\n     * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream\n     * @param options - Read behaviour options\n     * @returns Promise with number of bytes read\n     */\n    async readBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        const skipBytes = normOptions.position - this.position;\n        if (skipBytes > 0) {\n            await this.ignore(skipBytes);\n            return this.readBuffer(uint8Array, options);\n        }\n        else if (skipBytes < 0) {\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n        }\n        if (normOptions.length === 0) {\n            return 0;\n        }\n        const bytesRead = await this.streamReader.read(uint8Array, normOptions.offset, normOptions.length);\n        this.position += bytesRead;\n        if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {\n            throw new EndOfStreamError();\n        }\n        return bytesRead;\n    }\n    /**\n     * Peek (read ahead) buffer from tokenizer\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\n     * @param options - Read behaviour options\n     * @returns Promise with number of bytes peeked\n     */\n    async peekBuffer(uint8Array, options) {\n        const normOptions = this.normalizeOptions(uint8Array, options);\n        let bytesRead = 0;\n        if (normOptions.position) {\n            const skipBytes = normOptions.position - this.position;\n            if (skipBytes > 0) {\n                const skipBuffer = new Uint8Array(normOptions.length + skipBytes);\n                bytesRead = await this.peekBuffer(skipBuffer, { mayBeLess: normOptions.mayBeLess });\n                uint8Array.set(skipBuffer.subarray(skipBytes), normOptions.offset);\n                return bytesRead - skipBytes;\n            }\n            else if (skipBytes < 0) {\n                throw new Error('Cannot peek from a negative offset in a stream');\n            }\n        }\n        if (normOptions.length > 0) {\n            try {\n                bytesRead = await this.streamReader.peek(uint8Array, normOptions.offset, normOptions.length);\n            }\n            catch (err) {\n                if (options && options.mayBeLess && err instanceof EndOfStreamError) {\n                    return 0;\n                }\n                throw err;\n            }\n            if ((!normOptions.mayBeLess) && bytesRead < normOptions.length) {\n                throw new EndOfStreamError();\n            }\n        }\n        return bytesRead;\n    }\n    async ignore(length) {\n        // debug(`ignore ${this.position}...${this.position + length - 1}`);\n        const bufSize = Math.min(maxBufferSize, length);\n        const buf = new Uint8Array(bufSize);\n        let totBytesRead = 0;\n        while (totBytesRead < length) {\n            const remaining = length - totBytesRead;\n            const bytesRead = await this.readBuffer(buf, { length: Math.min(bufSize, remaining) });\n            if (bytesRead < 0) {\n                return bytesRead;\n            }\n            totBytesRead += bytesRead;\n        }\n        return totBytesRead;\n    }\n}\n","import { ReadStreamTokenizer } from './ReadStreamTokenizer.js';\nimport { BufferTokenizer } from './BufferTokenizer.js';\nexport { EndOfStreamError } from 'peek-readable';\n/**\n * Construct ReadStreamTokenizer from given Stream.\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param stream - Read from Node.js Stream.Readable\n * @param fileInfo - Pass the file information, like size and MIME-type of the corresponding stream.\n * @returns ReadStreamTokenizer\n */\nexport function fromStream(stream, fileInfo) {\n    fileInfo = fileInfo ? fileInfo : {};\n    return new ReadStreamTokenizer(stream, fileInfo);\n}\n/**\n * Construct ReadStreamTokenizer from given Buffer.\n * @param uint8Array - Uint8Array to tokenize\n * @param fileInfo - Pass additional file information to the tokenizer\n * @returns BufferTokenizer\n */\nexport function fromBuffer(uint8Array, fileInfo) {\n    return new BufferTokenizer(uint8Array, fileInfo);\n}\n","import * as fs from './FsPromise.js';\nimport * as core from './core.js';\nexport { fromFile } from './FileTokenizer.js';\nexport { EndOfStreamError, fromBuffer } from './core.js';\n/**\n * Construct ReadStreamTokenizer from given Stream.\n * Will set fileSize, if provided given Stream has set the .path property.\n * @param stream - Node.js Stream.Readable\n * @param fileInfo - Pass additional file information to the tokenizer\n * @returns Tokenizer\n */\nexport async function fromStream(stream, fileInfo) {\n    fileInfo = fileInfo ? fileInfo : {};\n    if (stream.path) {\n        const stat = await fs.stat(stream.path);\n        fileInfo.path = stream.path;\n        fileInfo.size = stat.size;\n    }\n    return core.fromStream(stream, fileInfo);\n}\n","import * as ieee754 from 'ieee754';\nimport { Buffer } from 'node:buffer';\n// Primitive types\nfunction dv(array) {\n    return new DataView(array.buffer, array.byteOffset);\n}\n/**\n * 8-bit unsigned integer\n */\nexport const UINT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getUint8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit unsigned integer, Little Endian byte order\n */\nexport const UINT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit unsigned integer, Big Endian byte order\n */\nexport const UINT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit unsigned integer, Little Endian byte order\n */\nexport const UINT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit unsigned integer, Big Endian byte order\n */\nexport const UINT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit unsigned integer, Little Endian byte order\n */\nexport const UINT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit unsigned integer, Big Endian byte order\n */\nexport const UINT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 8-bit signed integer\n */\nexport const INT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getInt8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit signed integer, Big Endian byte order\n */\nexport const INT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit signed integer, Little Endian byte order\n */\nexport const INT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit signed integer, Little Endian byte order\n */\nexport const INT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = UINT24_LE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit signed integer, Big Endian byte order\n */\nexport const INT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = UINT24_BE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 64-bit unsigned integer, Little Endian byte order\n */\nexport const UINT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Little Endian byte order\n */\nexport const INT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit unsigned integer, Big Endian byte order\n */\nexport const UINT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Big Endian byte order\n */\nexport const INT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, big endian\n */\nexport const Float16_BE = {\n    len: 2,\n    get(dataView, offset) {\n        return ieee754.read(dataView, offset, false, 10, this.len);\n    },\n    put(dataView, offset, value) {\n        ieee754.write(dataView, value, offset, false, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, little endian\n */\nexport const Float16_LE = {\n    len: 2,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 10, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, big endian\n */\nexport const Float32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, little endian\n */\nexport const Float32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, big endian\n */\nexport const Float64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, little endian\n */\nexport const Float64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, big endian\n */\nexport const Float80_BE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, false, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, false, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, little endian\n */\nexport const Float80_LE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * Ignore a given number of bytes\n */\nexport class IgnoreType {\n    /**\n     * @param len number of bytes to ignore\n     */\n    constructor(len) {\n        this.len = len;\n    }\n    // ToDo: don't read, but skip data\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    get(array, off) {\n    }\n}\nexport class Uint8ArrayType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(array, offset) {\n        return array.subarray(offset, offset + this.len);\n    }\n}\nexport class BufferType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(uint8Array, off) {\n        return Buffer.from(uint8Array.subarray(off, off + this.len));\n    }\n}\n/**\n * Consume a fixed number of bytes from the stream and return a string with a specified encoding.\n */\nexport class StringType {\n    constructor(len, encoding) {\n        this.len = len;\n        this.encoding = encoding;\n    }\n    get(uint8Array, offset) {\n        return Buffer.from(uint8Array).toString(this.encoding, offset, offset + this.len);\n    }\n}\n/**\n * ANSI Latin 1 String\n * Using windows-1252 / ISO 8859-1 decoding\n */\nexport class AnsiStringType {\n    constructor(len) {\n        this.len = len;\n    }\n    static decode(buffer, offset, until) {\n        let str = '';\n        for (let i = offset; i < until; ++i) {\n            str += AnsiStringType.codePointToString(AnsiStringType.singleByteDecoder(buffer[i]));\n        }\n        return str;\n    }\n    static inRange(a, min, max) {\n        return min <= a && a <= max;\n    }\n    static codePointToString(cp) {\n        if (cp <= 0xFFFF) {\n            return String.fromCharCode(cp);\n        }\n        else {\n            cp -= 0x10000;\n            return String.fromCharCode((cp >> 10) + 0xD800, (cp & 0x3FF) + 0xDC00);\n        }\n    }\n    static singleByteDecoder(bite) {\n        if (AnsiStringType.inRange(bite, 0x00, 0x7F)) {\n            return bite;\n        }\n        const codePoint = AnsiStringType.windows1252[bite - 0x80];\n        if (codePoint === null) {\n            throw Error('invaliding encoding');\n        }\n        return codePoint;\n    }\n    get(buffer, offset = 0) {\n        return AnsiStringType.decode(buffer, offset, offset + this.len);\n    }\n}\nAnsiStringType.windows1252 = [8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352,\n    8249, 338, 141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732,\n    8482, 353, 8250, 339, 157, 382, 376, 160, 161, 162, 163, 164, 165, 166, 167, 168,\n    169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184,\n    185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,\n    201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216,\n    217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232,\n    233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247,\n    248, 249, 250, 251, 252, 253, 254, 255];\n"],"names":["exports","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","value","c","rt","abs","isNaN","floor","log","LN2","Buffer","Token","strtok3","stringToBytes","tarHeaderChecksumMatches","uint32SyncSafeToken","extensions","mimeTypes","minimumBytes","fileTypeFromStream","stream","tokenizer","fromStream","fileTypeFromTokenizer","close","fileTypeFromBuffer","input","Uint8Array","ArrayBuffer","TypeError","length","fromBuffer","_check","headers","options","index","header","entries","mask","FileTypeParser","parse","error","EndOfStreamError","check","checkString","alloc","fileInfo","size","undefined","Number","MAX_SAFE_INTEGER","peekBuffer","mayBeLess","ext","mime","ignore","id3HeaderLength","readToken","position","readBuffer","zipHeader","compressedSize","readUInt32LE","uncompressedSize","filenameLength","readUInt16LE","extraFieldLength","filename","StringType","endsWith","type","split","startsWith","mimeType","trim","nextHeaderIndex","indexOf","brandMajor","toString","replace","maxBufferSize","min","includes","from","fileType","readTiffHeader","readField","msb","peekNumber","UINT8","ic","id","readElement","lengthField","nrLength","readUIntBE","len","readChildren","children","element","rawValue","re","docType","string","readChunkHeader","INT32_BE","chunk","readHeader","guid","UINT64_LE","payload","typeId","jsonSize","slice","json","JSON","files","readTiffTag","bigEndian","tagId","UINT16_BE","UINT16_LE","readTiffIFD","numberOfTags","n","version","get","ifdOffset","UINT32_BE","UINT32_LE","fileTypeStream","readableStream","sampleSize","default","Promise","resolve","reject","on","once","pass","PassThrough","outputStream","pipeline","pipe","supportedExtensions","Set","supportedMimeTypes","fileTypeFromFile","path","fromFile","map","character","charCodeAt","readSum","parseInt","sum","Deferred","constructor","promise","defaultMessages","Error","maxStreamReadSize","StreamReader","deferred","endOfStream","peekQueue","err","peek","uint8Array","bytesRead","push","subarray","remaining","peekData","pop","lenCopy","set","reqLen","chunkLen","readFromStream","request","readDeferred","AbstractTokenizer","numBuffer","token","peekToken","readNumber","bytesLeft","normalizeOptions","BufferTokenizer","normOptions","bytes2read","fs","FileTokenizer","fd","res","sourceFilePath","stat","isFile","open","pathExists","existsSync","createReadStream","stats","mode","_buffer","writeFile","data","writeFileSync","readFile","ReadStreamTokenizer","streamReader","getFileInfo","skipBytes","skipBuffer","bufSize","buf","totBytesRead","core","ieee754","dv","array","DataView","byteOffset","getUint8","put","setUint8","getUint16","setUint16","UINT24_LE","dataView","UINT24_BE","getUint32","setUint32","INT8","getInt8","setInt8","INT16_BE","getInt16","setInt16","INT16_LE","INT24_LE","unsigned","INT24_BE","getInt32","setInt32","INT32_LE","getBigUint64","setBigUint64","INT64_LE","getBigInt64","setBigInt64","UINT64_BE","INT64_BE","Float16_BE","Float16_LE","Float32_BE","getFloat32","setFloat32","Float32_LE","Float64_BE","getFloat64","setFloat64","Float64_LE","Float80_BE","Float80_LE","IgnoreType","off","Uint8ArrayType","BufferType","encoding","AnsiStringType","decode","until","str","codePointToString","singleByteDecoder","inRange","a","max","cp","String","fromCharCode","bite","codePoint","windows1252"],"sourceRoot":""}